import random
import time

coin = 0
# 물고기 종류 저장
물고기종류 = ["누치", "정어리", "붕어", "빙어", "북어", "전갱이", "꽁치", "은어", "노래미", "고등어", "메기", "잉어", "쥐치",
         "볼락", "열기", "줄돔", "삼치", "병어", "향어", "우럭", "송어", "해파리", "꼴뚜기", "넙치", "광어", "농어", "가물치",
         "방어", "바다송어", "해마", "연어", "쭈꾸미", "아귀", "한치", "오징어", "참치", "홍어", "랍스터", "가오리", "상어", "문어", "발광오징어", "킹크랩", "전복"]

인벤토리 = []  # 잡은 물고기 저장

print("=== 낚시 게임 ===")
print("입장하려면 !입장 을 입력해주세요")
시작 = input("!입장 입력: ")

if 시작 == "!입장":
    print("입장합니다!")
    time.sleep(1)

    # --------- 로비 루프 ----------
    while True:
        print("\n===== 로비 =====")
        print("1. 낚시터로 가기")
        print("2. 상점으로 가기")
        print("3. 인벤토리 확인")
        print("4. 코인 확인")
        print("5. 게임 종료")
        선택 = input("번호를 선택하세요: ")

        # ---------------- 낚시터 ----------------
        if 선택 == "1":
            print("\n낚시터에 도착했습니다!")
            time.sleep(1)

            시도횟수 = input("몇 번 도전하시겠습니까? [1/2]: ")
            if 시도횟수 not in ["1", "2"]:
                print("잘못 입력했습니다. 1 또는 2를 입력해주세요.")
                continue

            랜덤물고기1 = random.choice(물고기종류)
            print(f"뽑힌 물고기: {랜덤물고기1}")
            인벤토리.append(랜덤물고기1)
            time.sleep(0.3)

            if 시도횟수 == "2":
                랜덤물고기2 = random.choice(물고기종류)
                print(f"뽑힌 물고기: {랜덤물고기2}")
                인벤토리.append(랜덤물고기2)
                time.sleep(0.3)

        # ---------------- 상점 ----------------
        elif 선택 == "2":
            if not 인벤토리:
                print("인벤토리에 물고기가 없습니다. 낚시터로 가세요!")
                continue

            print("\n상점에 도착했습니다!")
            time.sleep(1)

            방문횟수 = 0

            while True:
                방문횟수 += 1

                if 방문횟수 == 1:
                    print("\n상인: 어떤 물고기를 팔건가?")
                else:
                    print("\n상인: 또 어떤 물고기를 팔건가?")
                time.sleep(0.5)

                print("인벤토리:", 인벤토리)
                물고기1 = input("판매할 물고기 이름 입력: ")
                time.sleep(0.5)

                if 물고기1 not in 인벤토리:
                    print("인벤토리에 없는 물고기입니다!")
                    continue

                # ---------------- 물고기 가격 계산 ----------------
                price = 0  # 기본값

                if 물고기1 in ["복어", "멸치"]:
                    price = 10
                elif 물고기1 in ["누치", "정어리"]:
                    price = 15
                elif 물고기1 in ["붕어", "빙어", "북어", "전갱이", "꽁치"]:
                    price = 20
                elif 물고기1 in ["은어"]:
                    price = 25
                elif 물고기1 in ["노래미", "고등어", "메기", "잉어"]:
                    price = 30
                elif 물고기1 in ["쥐치", "볼락", "열기", "줄돔", "향어"]:
                    price = 35
                elif 물고기1 in ["삼치", "병어"]:
                    price = 40
                elif 물고기1 in ["우럭", "송어", "연어"]:
                    price = 45
                elif 물고기1 in ["해파리"]:
                    price = 50
                elif 물고기1 in ["꼴뚜기", "넙치"]:
                    price = 60
                elif 물고기1 in ["광어", "농어", "가물치"]:
                    price = 70
                elif 물고기1 in ["방어", "바다송어", "해마"]:
                    price = 75
                elif 물고기1 in ["쭈꾸미"]:
                    price = 80
                elif 물고기1 in ["아귀", "한치"]:
                    price = 85
                elif 물고기1 in ["오징어"]:
                    price = 90
                elif 물고기1 in ["참치"]:
                    price = 95
                elif 물고기1 in ["홍어"]:
                    price = 95
                elif 물고기1 in ["랍스터", "가오리"]:
                    price = 110
                elif 물고기1 in ["상어", "문어", "발광오징어", "킹크랩", "전복"]:
                    price = 120

                # ---------------- 판매 처리 ----------------
                인벤토리.remove(물고기1)
                coin += price

                print(f"{물고기1}을(를) 팔았습니다! 가격: {price} 코인입니다.")
                print(f"현재 코인: {coin}원")

                if not 인벤토리:
                    print("더 이상 팔 물고기가 없습니다. 상점을 나갑니다.")
                    time.sleep(0.3)
                    break

                다시팔기 = input("다른 물건을 팔겠습니까? [예/아니요]: ")
                if 다시팔기.lower() != "예":
                    print("상점을 나갑니다. 로비로 돌아갑니다!")
                    time.sleep(0.3)
                    break

        # ---------------- 인벤토리 확인 ----------------
        elif 선택 == "3":
            if 인벤토리:
                print("\n현재 인벤토리:", 인벤토리)
            else:
                print("\n인벤토리가 비어 있습니다.")

        # ---------------- 코인 확인 ----------------
        elif 선택 == "4":
            print(f"\n현재 코인: {coin}원")

        # ---------------- 게임 종료 ----------------
        elif 선택 == "5":
            print("\n게임을 종료하시겠습니까?")
            대답1 = input("[네/아니요]: ")
            if 대답1 == "네":
                print("낚시터를 종료합니다! 안녕히 가세요!!")
                time.sleep(0.5)
                break
            else:
                print("다시 낚시터로 가봅시다!")
                time.sleep(0.4)

        else:
            print("잘못된 입력입니다. 1~5번 중 선택해주세요.")
            time.sleep(0.4)
